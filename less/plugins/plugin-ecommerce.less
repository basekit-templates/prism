// ------------------------------------
// Prism: CSS > Plugin: Ecommerce
// ------------------------------------

// -----------------------------
// #Table of Contents
// -----------------------------

// 1. #PRODUCT LIST
// 2. #SINGLE PRODUCT
// 3. #PRODUCT IMAGES
// 4. #BASKET WIDGET
// 5. #BASKET SUMMARY




// -----------------------------
// 1. #Product List
// -----------------------------

// Product List
.product-list {
    display: -webkit-box;
    display: -moz-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;

    -webkit-flex-wrap: wrap;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;

    justify-content: space-between;
    -webkit-justify-content: space-between;
}

// Product Item
// ------------

// Sets a minimum height of the article - A bit ugly but because the image is
// 370px it needs this to stop it crashing.
.product-item-article {
    min-height: 450px;

    @media only screen
    and (max-width : 667px) {
        min-height: 0;
    }
}

// This sets up the widths for each item
.product-item {
    position: relative;
    width: 32%;
    margin-bottom: 2%;

    // Display 100% at mobile
    @media only screen
    and (max-width : 667px) {
        width: 100%;
        margin-bottom: 4%;
    }
}

.title-link {
    color: @heading-color;  //Part of v8 conversion to return to defaults
}

// Image
.product-item-image {
    height: 370px;
    .flex-vert-center; // Mixin > Flexbox: Vertical Align Center Mixin
    justify-content: center;
    background-color: @bg-color-alt;

    @media only screen
    and (max-width : 667px) {
        height: 200px;
    }
}

.product-item-image .image-link {
    background-color: transparent;
    height: auto;
}

// Adds margin bottom
.ecomproduct__product-image {
    @media @tablet {
        margin-bottom: 20px;
    }
}

// Title
.product-item-title {
    text-align: center;

    @media only screen
    and (max-width : 667px) {
        font-size: @font__p--font-size;
        line-height: bkscale(@font__p--line-height,0.8);
        text-align: left;
    }
}

// Price
.product-item-price {
    position: relative;
    max-width: 30%;
    text-align: center;
    height: auto;
    margin-top: -130px;
    padding: 3px 11px;
    color: @bg-color;
    background-color: @contrast-color;
    // Increases price width at tablet
    @media @tablet {
        max-width: 50%;
    }
    // Reduces price width for mobile
    @media only screen
    and (max-width : 667px) {
        max-width: 30%;
        height: auto;
        padding: 3px 5px;
        margin-top: 10px;
        margin-bottom: 10px;
        font-size: bkscale(@font__p--font-size,0.8);
    }
}


// Product Filters
// ---------------

// Legend

.product-filters  .legend {
    display: none;
}

// Form Group

.ecomproductslist__fieldset--filters .ecomproductslist__form-group {
    width: 23%;
    @media @mobile {
        width: 100%;
    }
}

// Last Form Group

.ecomproductslist__form-body .form-group:last-child {
    margin-right: 0;
}

// Select

.ecomproductslist__select {
    width: 100%;
}

// Form Group, Select

.ecomproductslist__form-group,
.ecomproductslist__select {
    @media @mobile {
        width: 100%;
        margin-right: 0;
    }
}


// Styles filters
.fieldset--filters .ecomproductslist__form-body {
    text-align: center;
    padding: 40px 10px 0;
    width: 100%;
    margin: 0 auto;
    border-top: 2px solid @bg-color-alt;

    @media @tablet { width: 100%; }
}

// Styles Search
.fieldset--search .ecomproductslist__form-body {
    text-align: right;
    background-color: transparent;
    margin: 10px 0;
}

// Hides search label
.label--search {
    display: none;
}

// Filter Search Input
.input--search.ecomproductslist__input {
    padding: 0;
    font-size: 12px;
    text-indent: 10px;
    width: 250px;
    height: 46px;

    @media @mobile { width: 100%; }
}

// Filter Submit Button
.button--submit.ecomproductslist__input {
    padding: 5px 12px;
    font-size: 16px;
}


// Responsive Columns
// ------------------

.responsivecolumns {

    // Image
    .product-item-image {
        height: 200px;
    }

    // Price
    .product-item-price {
        max-width: inherit;
        height: auto;
        padding: 3px 5px;
        margin-top: 10px;
        margin-bottom: 10px;
        font-size: bkscale(@font__p--font-size,0.8);
    }

    .product-item-title {
        font-size: @font__p--font-size;
        line-height: bkscale(@font__p--line-height,0.8);
        text-align: left;
    }
}



// -----------------------------
// 2. #Single Product
// -----------------------------

// Display images and content inline
.product-images,
.product-content {
    display: inline-block;
    vertical-align: top;
}


// Product Images
// --------------

.product-images {
    width: 45%;
    margin-right: 3%;
    @media @tablet {
        width: 100%;
        margin-right: 0;
    }
}


// Product Content
// ---------------

.product-content {
    width: 51%;
    @media @tablet {
        width: 100%;
    }
}

// Product Details
.product-price { font-size: @font__p--font-size; }


// Product Form
// ------------

.ecomproduct__form {
    margin-top: 20px;
    background-color: transparent;
}

.ecomproduct__form-group {
    float: left;
    margin-right: 30px;
}

.ecomproduct__form-body { margin: 0; }

// Adds extra margin to fieldset at mobile
.ecomproduct__fieldset {
    @media @mobile { margin-bottom: 20px;}
}

// Reset legend styles
.ecomproduct__legend {
    padding: 0 0 10px;
    background-color: transparent;
    border: 0;
}

// Form Select
.ecomproduct__select {
    min-width: 377px;

        @media @mobile {
            min-width: 172px;
        }
}

// Add to Basket,
// View Basket Buttons
.button--submit.ecomproduct__input,
.ecomproduct__button {
    min-width: 150px;
    padding: 11px 30px;
    text-align: center;
    font-size: 14px;
}

// product Tags
.tag-item {
    margin-right: -4px;
}
.tag-item:first-child:before {
    display: none;
}
.tag-item:before {
    content: ',';
}


// Once product is added
.form .button {
    &.added {
        &:before {
            content: '\f00c'
        }
    }
}




// -----------------------------
// 3. #Product Images
// -----------------------------

// Adds margin to product image div
.product-item-image,
.basket-item-image {
    margin-bottom: 20px;
}




// -----------------------------
// 4. #Basket Widget
// -----------------------------

// Basket Body
.basket-body {
    min-width: 40%;
    width: 100%;
	padding: 30px;

    @media @tablet {
        width: 100%;
    }
    @media @mobile {
        padding: 20px;
    }
}

// Basket Item
.basket-item {
	position: relative;
	padding: 30px;
	background-color: @bg-color;
    border-top: 4px solid @contrast-color;

    &:last-child {
        border-bottom: 4px solid @contrast-color;
    }
}

// Remove BG colour on summary form
.form.basket-summary__summary-form { background-color: transparent; }


// Basket Layout
// -------------

.basket-item-image,
.basket-item-details {
    display: inline-block;
}


// Basket Image
// ------------

.basket-item-image {
    margin-bottom: 0;
    margin-right: 20px;
}


// Remove Item Button
// ------------------

// Position in top-right
.item-remove {
	position: absolute;
    top: 30px;
    right: 30px;
    height: 25px;
    width: 25px;
    padding: 0;
    font-size: 14px;
}

// Remove icon spacing
.item-remove:before {
    margin-right: 0;
}

// Hide button text
.remove-text {
    display: none;
}


// Basket Footer
// -------------

.basket-footer {
    margin-top: 0;
    padding: 30px;
    background-color: darken(@color-swatch1,10%);
}

.basket-total {
    padding-bottom: 20px;
    color: @heading-color;
    text-transform: uppercase;
}




// -----------------------------
// 5. #Basket Summary
// -----------------------------


// Basic Cell Settings
// -------------------

// Table Cell Heading
.cell--header.basket-summary__cell {
    background-color: transparent;
}

// Table Cell
.basket-summary__cell {
    border: 1px solid @bg-color-alt;
    .rounded(@radius: 2px); // Mixin > Other Mixins: Border Radius Mixin
}

.quantity-wrap { width: 100%; }

.quantity-field {
    position: relative;
    min-width: 30px;
    top: 6px;
    text-align: center;
}

.quantity-wrap .button--quantity {
    height: 30px;
    width: 30px;
}


// Summary Table at mobile
// -----------------------

@media @mobile  {

    // Remove cell border
    .basket-summary__cell { border: 0; }

    // Give odd table rows a BG colour
    .basket-summary__table-row:nth-child(odd) {
        background-color: darken(@bg-color,2%);
    }

    // Add border-top to 'price' and 'total' cells
    .cell--price.basket-summary__cell,
    .cell--total.basket-summary__cell {
        border-top: 1px solid darken(@bg-color-alt,7%);
    }

}


